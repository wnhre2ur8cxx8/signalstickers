{"version":3,"sources":["webpack:///./config/modernizr-config.json","webpack:///./src/components/pack/NsfwModal.tsx","webpack:///./src/components/pack/Sticker.tsx","webpack:///./src/components/pack/StickerPackDetail.tsx","webpack:///./src/components/pack/StickerPackError.tsx","webpack:///./src/components/pack/Tag.tsx","webpack:///./src/hooks/use-query.ts"],"names":["window","hadGlobal","oldGlobal","Modernizr","e","n","t","r","o","i","indexOf","s","createElement","arguments","b","createElementNS","call","apply","u","a","f","d","p","c","body","fake","l","parseInt","id","appendChild","type","styleSheet","cssText","createTextNode","style","background","overflow","x","parentNode","removeChild","offsetHeight","replace","toLowerCase","length","CSS","supports","push","join","getComputedStyle","console","getPropertyValue","error","currentStyle","toUpperCase","P","modElem","m","y","h","v","shift","charAt","slice","_","split","E","g","C","_version","_config","classPrefix","enableClasses","enableJSClass","usePrefixes","_q","on","this","setTimeout","addTest","name","fn","options","addAsyncTest","prototype","w","S","_cssomPrefixes","documentElement","nodeName","z","elem","unshift","_domPrefixes","testAllProps","hasOwnProperty","aliases","Boolean","k","document","module","exports","NsfwModal","NsfwModalComponent","useEffect","$","show","keyboard","backdrop","className","role","href","target","rel","to","title","onClick","Sticker","StickerComponent","stickerId","useState","useAsyncEffect","Promise","getEmojiForSticker","packId","packKey","getConvertedStickerInPack","setEmoji","setStickerSrc","emoji","src","alt","StickerPackDetail","StickerGridView","LinkifyHrefDecorator","decoratedHref","key","StickerPackDetailComponent","useParams","useQuery","setSearchQuery","useContext","history","useHistory","setStickerPack","getStickerPack","err","setStickerPackError","source","stickerPack","numStickers","author","stickerPackTags","addToSignalHref","event","componentDecorator","tag","sticker","StickerPackError","props","children","Tag","TagComponent","URLSearchParams","useLocation","search"],"mappings":"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","file":"154-ad93e1705b7d90c5e9fe.js","sourcesContent":[";(function(window){\nvar hadGlobal = 'Modernizr' in window;\nvar oldGlobal = window.Modernizr;\n/*! modernizr 3.11.2 (Custom Build) | MIT *\n * https://modernizr.com/download/?-backdropfilter !*/\n!function(e,n,t,r){function o(e,n){return typeof e===n}function i(e,n){return!!~(\"\"+e).indexOf(n)}function s(){return\"function\"!=typeof t.createElement?t.createElement(arguments[0]):b?t.createElementNS.call(t,\"http://www.w3.org/2000/svg\",arguments[0]):t.createElement.apply(t,arguments)}function l(){var e=t.body;return e||(e=s(b?\"svg\":\"body\"),e.fake=!0),e}function u(e,n,r,o){var i,u,a,f,d=\"modernizr\",p=s(\"div\"),c=l();if(parseInt(r,10))for(;r--;)a=s(\"div\"),a.id=o?o[r]:d+(r+1),p.appendChild(a);return i=s(\"style\"),i.type=\"text/css\",i.id=\"s\"+d,(c.fake?c:p).appendChild(i),c.appendChild(p),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),p.id=d,c.fake&&(c.style.background=\"\",c.style.overflow=\"hidden\",f=x.style.overflow,x.style.overflow=\"hidden\",x.appendChild(c)),u=n(p,e),c.fake?(c.parentNode.removeChild(c),x.style.overflow=f,x.offsetHeight):p.parentNode.removeChild(p),!!u}function a(e){return e.replace(/([A-Z])/g,function(e,n){return\"-\"+n.toLowerCase()}).replace(/^ms-/,\"-ms-\")}function f(e,t,r){var o;if(\"getComputedStyle\"in n){o=getComputedStyle.call(n,e,t);var i=n.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(i){var s=i.error?\"error\":\"log\";i[s].call(i,\"getComputedStyle returning null, its possible modernizr test results are inaccurate\")}}else o=!t&&e.currentStyle&&e.currentStyle[r];return o}function d(e,t){var o=e.length;if(\"CSS\"in n&&\"supports\"in n.CSS){for(;o--;)if(n.CSS.supports(a(e[o]),t))return!0;return!1}if(\"CSSSupportsRule\"in n){for(var i=[];o--;)i.push(\"(\"+a(e[o])+\":\"+t+\")\");return i=i.join(\" or \"),u(\"@supports (\"+i+\") { #modernizr { position: absolute; } }\",function(e){return\"absolute\"===f(e,null,\"position\")})}return r}function p(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,\"\")}function c(e,n,t,l){function u(){f&&(delete P.style,delete P.modElem)}if(l=!o(l,\"undefined\")&&l,!o(t,\"undefined\")){var a=d(e,t);if(!o(a,\"undefined\"))return a}for(var f,c,m,y,h,v=[\"modernizr\",\"tspan\",\"samp\"];!P.style&&v.length;)f=!0,P.modElem=s(v.shift()),P.style=P.modElem.style;for(m=e.length,c=0;c<m;c++)if(y=e[c],h=P.style[y],i(y,\"-\")&&(y=p(y)),P.style[y]!==r){if(l||o(t,\"undefined\"))return u(),\"pfx\"!==n||y;try{P.style[y]=t}catch(e){}if(P.style[y]!==h)return u(),\"pfx\"!==n||y}return u(),!1}function m(e,n){return function(){return e.apply(n,arguments)}}function y(e,n,t){var r;for(var i in e)if(e[i]in n)return!1===t?e[i]:(r=n[e[i]],o(r,\"function\")?m(r,t||n):r);return!1}function h(e,n,t,r,i){var s=e.charAt(0).toUpperCase()+e.slice(1),l=(e+\" \"+_.join(s+\" \")+s).split(\" \");return o(n,\"string\")||o(n,\"undefined\")?c(l,n,r,i):(l=(e+\" \"+E.join(s+\" \")+s).split(\" \"),y(l,n,t))}function v(e,n,t){return h(e,r,r,n,t)}var g=[],C={_version:\"3.11.2\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){g.push({name:e,fn:n,options:t})},addAsyncTest:function(e){g.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=C,Modernizr=new Modernizr;var w=[],S=\"Moz O ms Webkit\",_=C._config.usePrefixes?S.split(\" \"):[];C._cssomPrefixes=_;var x=t.documentElement,b=\"svg\"===x.nodeName.toLowerCase(),z={elem:s(\"modernizr\")};Modernizr._q.push(function(){delete z.elem});var P={style:z.elem.style};Modernizr._q.unshift(function(){delete P.style});var E=C._config.usePrefixes?S.toLowerCase().split(\" \"):[];C._domPrefixes=E,C.testAllProps=h,C.testAllProps=v,Modernizr.addTest(\"backdropfilter\",v(\"backdropFilter\")),function(){var e,n,t,r,i,s,l;for(var u in g)if(g.hasOwnProperty(u)){if(e=[],n=g[u],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=o(n.fn,\"function\")?n.fn():n.fn,i=0;i<e.length;i++)s=e[i],l=s.split(\".\"),1===l.length?Modernizr[l[0]]=r:(Modernizr[l[0]]&&(!Modernizr[l[0]]||Modernizr[l[0]]instanceof Boolean)||(Modernizr[l[0]]=new Boolean(Modernizr[l[0]])),Modernizr[l[0]][l[1]]=r),w.push((r?\"\":\"no-\")+l.join(\"-\"))}}(),delete C.addTest,delete C.addAsyncTest;for(var k=0;k<Modernizr._q.length;k++)Modernizr._q[k]();e.Modernizr=Modernizr}(window,window,document);\nmodule.exports = window.Modernizr;\nif (hadGlobal) { window.Modernizr = oldGlobal; }\nelse { delete window.Modernizr; }\n})(window);","import {styled} from 'linaria/react';\nimport Modernizr from 'modernizr';\nimport {Link} from 'react-router-dom';\nimport React, {useEffect} from 'react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\n\nimport {NAVBAR_HEIGHT} from 'etc/constants';\n\n// ----- Styles ----------------------------------------------------------------\n\n/**\n * These styles turn Bootstrap's .modal class into a custom backdrop that does\n * not cover the navbar. We then hide Bootstrap's .modal-backdrop element when\n * the component is mounted.\n */\nconst NsfwModal = styled.div`\n  background: rgba(255, 255, 255, ${() => Modernizr.backdropfilter ? 0.75 : 1});\n  backdrop-filter: blur(20px);\n  margin-top: ${NAVBAR_HEIGHT}px;\n  margin-bottom: ${NAVBAR_HEIGHT}px;\n\n  & .modal-dialog {\n    min-height: calc(100% - ${NAVBAR_HEIGHT * 1}px);\n    margin: 0 auto ${NAVBAR_HEIGHT}px auto;\n\n    &:before {\n      height: 0;\n    }\n  }\n\n  & .modal-content {\n    border-color: rgba(0, 0, 0, 0.12);\n    box-shadow: 0px 0px 32px 0px rgba(0, 0, 0, 0.12);\n  }\n\n  & .octicon {\n    font-size: 1em;\n    height: 1em;\n    width: 1em;\n  }\n`;\n\n// ----- Component -------------------------------------------------------------\n\nconst NsfwModalComponent: React.FunctionComponent = () => {\n  /**\n   * Show the modal when the component is rendered for the first time.\n   */\n  useEffect(() => {\n    $('#nsfw-modal').modal({\n      show: true,\n      // These two settings ensure the modal cannot be dismissed by clicking the\n      // backdrop.\n      keyboard: false,\n      backdrop: 'static'\n    });\n\n    // By not adding this class to the markup, we ensure the modal (and our\n    // custom backdrop) appear immediately when the component renders. By adding\n    // it here, however, we ensure a smooth fade-out animation when the modal is\n    // closed.\n    $('#nsfw-modal').addClass('fade');\n\n    // We don't use Bootstraps top-level backdrop, so hide it.\n    $('.modal-backdrop').css('display', 'none');\n  }, []);\n\n\n  /**\n   * Hides the modal when the 'Show pack' button is clicked.\n   */\n  const onHideNsfwModalClick = () => {\n    $('#nsfw-modal').modal('hide');\n  };\n\n  // ----- Render --------------------------------------------------------------\n\n  return (\n    <NsfwModal id=\"nsfw-modal\" className=\"modal\" role=\"dialog\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h3 className=\"modal-title\">\n              <Octicon name=\"alert\" /> Content Warning\n            </h3>\n          </div>\n          <div className=\"modal-body\">\n            <p>\n              This pack has been marked <i>Not Safe For Work</i> (<a href=\"https://www.urbandictionary.com/define.php?term=NSFW\" target=\"_blank\" rel=\"noopener noreferrer\">NSFW</a>).\n              <br/>\n              This means that it may contain nudity, sexual content, or other potentially disturbing subject matter.\n            </p>\n            <p>You should not view this pack at work, or with children around.</p>\n          </div>\n          <div className=\"modal-footer\">\n            <Link to=\"/\" className=\"btn btn-secondary\" title=\"Go back home\">\n              Go back home\n            </Link>\n            <button className=\"btn btn-primary\" onClick={onHideNsfwModalClick}>\n              Show the pack\n            </button>\n          </div>\n        </div>\n      </div>\n    </NsfwModal>\n  );\n};\n\n\nexport default NsfwModalComponent;\n","import React, {useState} from 'react';\nimport {styled} from 'linaria/react';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {getConvertedStickerInPack, getEmojiForSticker} from 'lib/stickers';\n\n\n// ----- Props -----------------------------------------------------------------\n\nexport interface Props {\n  packId: string;\n  packKey: string;\n  stickerId: number;\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst Sticker = styled.div`\n  align-items: center;\n  border-radius: 4px;\n  border: 1px solid rgba(0, 0, 0, .125);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  padding: 16px;\n  position: relative;\n  width: 100%;\n\n  & .emoji {\n    position: absolute;\n    top: 2px;\n    left: 6px;\n    opacity: 0.75;\n  }\n\n  & img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n\n  /**\n   * This ensures that the component has a 1:1 aspect ratio, even if there is\n   * no content or the content's aspect ratio is not 1:1. This way, the page's\n   * structure can be laid-out while stickers are loaded.\n   */\n  &::before {\n    content: '';\n    display: inline-block;\n    width: 1px;\n    height: 0px;\n    padding-bottom: calc(100%);\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\nconst StickerComponent: React.FunctionComponent<Props> = ({packId, packKey, stickerId}) => {\n  const [emoji, setEmoji] = useState('');\n  const [stickerSrc, setStickerSrc] = useState('');\n\n\n  /**\n   * [Effect] Load sticker data and emoji for the sticker indicated in our\n   * props.\n   */\n  useAsyncEffect(async () => {\n    const [\n      emojiResult,\n      stickerResult\n    ] = await Promise.all([\n      getEmojiForSticker(packId, packKey, stickerId),\n      getConvertedStickerInPack(packId, packKey, stickerId)\n    ]);\n\n    setEmoji(emojiResult);\n    setStickerSrc(stickerResult);\n  }, []);\n\n\n  // ----- Render --------------------------------------------------------------\n\n  return (\n    <Sticker className=\"shadow-sm\">\n      {emoji && stickerSrc\n        ? <>\n            <div className=\"emoji\">{emoji}</div>\n            <img src={stickerSrc} alt=\"Sticker\" />\n          </>\n        : <div className=\"spinner-border text-light\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n      }\n    </Sticker>\n  );\n};\n\n\nexport default StickerComponent;\n","import React, {useState, useContext} from 'react';\nimport {Link, useParams, useHistory} from 'react-router-dom';\nimport Linkify from 'react-linkify';\nimport {styled} from 'linaria/react';\nimport {darken} from 'polished';\n// @ts-ignore (No type definitions exist for this package.)\nimport Octicon from 'react-octicon';\nimport useAsyncEffect from 'use-async-effect';\n\nimport {GRAY, SIGNAL_BLUE} from 'etc/colors';\nimport {StickerPack} from 'etc/types';\nimport useQuery from 'hooks/use-query';\nimport {getStickerPack} from 'lib/stickers';\nimport {bp} from 'lib/utils';\n\nimport Sticker from './Sticker';\nimport StickerPackError from './StickerPackError';\nimport Tag from './Tag';\nimport StickersContext from 'contexts/StickersContext';\n\nimport NsfwModal from './NsfwModal';\n\n// ----- Types -----------------------------------------------------------------\n\n/**\n * URL parameters that we expect to have set when this component is rendered.\n */\nexport interface UrlParams {\n  packId: string;\n}\n\n\n// ----- Styles ----------------------------------------------------------------\n\nconst StickerPackDetail = styled.div`\n  background-color: white;\n\n  @media ${bp('sm')} {\n    border-radius: 4px;\n    border: 1px solid ${darken(0.15, GRAY)};\n  }\n\n  & .list-group-item {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    font-size: 14px;\n\n    & .octicon {\n      font-size: 20px;\n      margin-right: 20px;\n    }\n  }\n\n  & .octicon-globe {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-file-directory {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-alert {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .octicon-star {\n    color: gold;\n  }\n\n  & .octicon-tag {\n    color: ${SIGNAL_BLUE};\n  }\n\n  & .title {\n    font-size: 32px;\n    font-weight: 600;\n  }\n\n  @media ${bp('md')} {\n    & .list-group-item {\n      font-size: inherit;\n\n      & .octicon {\n        font-size: 20px;\n        margin-right: 20px;\n      }\n    }\n\n    & .title {\n      font-size: 42px;\n      font-weight: 600;\n    }\n  }\n\n  & .author {\n    font-size: 16px;\n    font-weight: 400;\n    opacity: 0.6;\n  }\n\n  & strong {\n    font-weight: 600;\n  }\n`;\n\nconst StickerGridView = styled.div`\n  display: grid;\n  grid-gap: 24px;\n  grid-template-columns: repeat(2, 1fr);\n  justify-content: space-between;\n\n  @media ${bp('sm')} {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  @media ${bp('md')} {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  @media ${bp('lg')} {\n    grid-template-columns: repeat(5, 1fr);\n  }\n\n  @media ${bp('xl')} {\n    grid-template-columns: repeat(6, 1fr);\n  }\n`;\n\n\n// ----- Component -------------------------------------------------------------\n\n/**\n * Custom component for Linkify links that adds \"target\" and \"rel\" attributes.\n */\nfunction LinkifyHrefDecorator(decoratedHref: string, decoratedText: string, key: number) {\n  return (\n    <a href={decoratedHref} key={key} target=\"_blank\" rel=\"noreferrer\">{decoratedText}</a>\n  );\n}\n\n\nconst StickerPackDetailComponent: React.FunctionComponent = () => {\n  // Extract :packId from the URL.\n  const {packId} = useParams<UrlParams>();\n\n  // Extract the optional \"key\" query param from the URL.\n  const key = useQuery().get('key') || undefined;\n\n  // StickerPack object for the requested pack.\n  const [stickerPack, setStickerPack] = useState<StickerPack>();\n\n  // One of many possible error codes we may catch when trying to load or\n  // decrypt a sticker pack. This will be used to determine what error message\n  // to show the user.\n  const [stickerPackError, setStickerPackError] = useState('');\n\n  // Current search query, will be used if the users clicks on author\n  const {setSearchQuery} = useContext(StickersContext);\n  const history = useHistory();\n\n\n  /**\n   * [Effect] Set `stickerPack` when the component mounts.\n   */\n  useAsyncEffect(async () => {\n    try {\n      if (!packId) {\n        return;\n      }\n\n      setStickerPack(await getStickerPack(packId, key));\n    } catch (err) {\n      if (err.code) {\n        setStickerPackError(err.code);\n      }\n    }\n  }, []);\n\n  /**\n   * [Event Handler] Search for packs from the same author\n   */\n  function onAuthorClick(event: React.SyntheticEvent) {\n    event.preventDefault();\n\n    if (event.currentTarget?.textContent) {\n      setSearchQuery(event.currentTarget?.textContent);\n    }\n\n    history.push('/');\n  }\n\n\n  // ----- Render --------------------------------------------------------------\n\n  if (!packId || !stickerPack) {\n    // If an error code has been set, display an error alert to the user.\n    if (stickerPackError) {\n      switch (stickerPackError) {\n        case 'NO_KEY_PROVIDED':\n          return (\n            <StickerPackError>\n              <p>This sticker pack is not listed in the Signal Stickers directory. However, if you have the pack's <strong>key</strong>, you can still preview the sticker pack by supplying a <code>key</code> parameter in the URL.</p>\n              <p>For example: <code>{`/pack/${packId}?key=sticker-pack-key`}</code></p>\n            </StickerPackError>\n          );\n        case 'MANIFEST_DECRYPT':\n          return (\n            <StickerPackError>\n              <p>The provided key is invalid.</p>\n            </StickerPackError>\n          );\n        default:\n          return (\n            <StickerPackError>\n              <p>An unknown error occurred ({stickerPackError}).</p>\n            </StickerPackError>\n          );\n      }\n    }\n\n    // If we don't have an error, we're likely still waiting on an async\n    // operation, so render nothing.\n    return null; // tslint:disable-line no-null-keyword\n  }\n\n  const source = stickerPack.meta.source || 'N/A';\n  const numStickers = stickerPack.manifest.stickers.length;\n  // N.B. Signal allows strings containing only whitespace as authors. In these\n  // cases, use 'Anonymous' instead.\n  const author = stickerPack.manifest.author.trim() ? stickerPack.manifest.author : 'Anonymous';\n  const stickerPackTags = stickerPack.meta.tags || [];\n  const addToSignalHref = `https://signal.art/addstickers/#pack_id=${packId}&pack_key=${stickerPack.meta.key}`;\n\n  // TODO: Fix logic around displaying home button to better detect when we're\n  // viewing an unlisted sticker pack.\n  return (\n    <StickerPackDetail className=\"px-1 px-sm-4 py-4 mt-0 mt-sm-5 mb-5\">\n      {stickerPack.meta.nsfw ? <NsfwModal></NsfwModal> : null}\n      <div className=\"row mb-4 flex-column-reverse flex-lg-row\">\n        <div className=\"col-12 col-lg-8 mt-4 mt-lg-0\">\n          <div className=\"title\">{stickerPack.manifest.title}</div>\n          <div className=\"author\"><a title={`View more packs from ${author}`} href=\"\" onClick={onAuthorClick}>{author}</a></div>\n        </div>\n        <div className=\"col-12 col-lg-4 d-flex d-lg-block justify-content-between text-md-right\">\n          {stickerPack.meta ? <Link to=\"/\">\n            <button type=\"button\" className=\"btn btn-link mr-2\">\n              Home\n            </button>\n          </Link> : null}\n          <a href={addToSignalHref} target=\"_blank\" rel=\"noreferrer\" title=\"Add to Signal\">\n            <button className=\"btn btn-primary\">\n              <Octicon name=\"plus\" />&nbsp;Add to Signal\n            </button>\n          </a>\n        </div>\n      </div>\n\n      {stickerPack.meta ? <div className=\"row mb-4\">\n        <div className=\"col-12 col-lg-6\">\n          <ul className=\"list-group\">\n            {stickerPack.meta.original ? <li className=\"list-group-item text-wrap text-break\">\n            <Octicon name=\"star\" title=\"Original sticker pack\" /> This pack has been created exclusively for Signal by the artist, from original artworks.\n            </li> : null}\n            <li className=\"list-group-item text-wrap text-break\">\n              <Octicon name=\"globe\" title=\"Source\" />\n              <div>\n                <Linkify componentDecorator={LinkifyHrefDecorator}>{source}</Linkify>\n              </div>\n            </li>\n            <li className=\"list-group-item text-wrap text-break\">\n              <Octicon name=\"file-directory\" title=\"Sticker Count\" />\n              {numStickers}\n            </li>\n            <li className=\"list-group-item\">\n              <Octicon name=\"tag\" title=\"Tags\" />\n              <div className=\"text-wrap text-break\">\n                {stickerPackTags.length === 0 ? 'None' : stickerPackTags.map(tag => (<Tag key={tag}>{tag}</Tag>))}\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div> : null}\n\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <StickerGridView>\n            {stickerPack.manifest.stickers.map(sticker => (\n              <Sticker\n                packId={packId}\n                packKey={stickerPack.meta.key}\n                stickerId={sticker.id}\n                key={sticker.id}\n              />\n            ))}\n          </StickerGridView>\n        </div>\n      </div>\n    </StickerPackDetail>\n  );\n};\n\n\nexport default StickerPackDetailComponent;\n","import React from 'react';\n\n\nconst StickerPackError: React.FunctionComponent = props => {\n  return (\n    <div className=\"p-4 my-4\">\n      <div className=\"row mb-4\">\n        <div className=\"col-10 offset-1 alert alert-danger\">\n          <h3 className=\"alert-heading mt-1 mb-3\">Error</h3>\n          {props.children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\nexport default StickerPackError;\n","import React, {useContext} from 'react';\nimport {styled} from 'linaria/react';\nimport {useHistory} from 'react-router-dom';\n\nimport {SIGNAL_BLUE} from 'etc/colors';\n\nimport StickersContext from 'contexts/StickersContext';\n\n\nconst Tag = styled.button`\n  background-color: ${SIGNAL_BLUE};\n  border-radius: 4px;\n  color: white;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  margin: 2px;\n  padding: 2px 8px;\n  text-transform: capitalize;\n`;\n\n\nconst TagComponent: React.FunctionComponent = props => {\n  // Current search query, will be used if the users clicks on tags\n  const {setSearchQuery} = useContext(StickersContext);\n  const history = useHistory();\n\n\n  /**\n   * [Event Handler] Search from packs with same tags\n   */\n  function onTagClick(event: React.SyntheticEvent) {\n    event.preventDefault();\n    setSearchQuery(event.currentTarget.textContent);\n    history.push('/');\n  }\n\n  return (\n    <Tag className=\"btn\" onClick={onTagClick} title={`View more packs with tag \"${props.children}\"`}>\n      {props.children}\n    </Tag>\n  );\n};\n\n\nexport default TagComponent;\n","import {useLocation} from 'react-router-dom';\n\n\n/**\n * Custom hook for introspecting URL query parameters.\n *\n * Example usage:\n *\n * const query = useQuery();\n * query.get('foo');\n */\nexport default function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n"],"sourceRoot":""}